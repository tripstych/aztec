(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function n(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?e(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,n){return(e=r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,r(a.key),a)}}function r(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,"string");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}const l=function(){return t=function t(e,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var i=a.labels,r=a.templateEngine,l=a.initCallback;this.initCallbacks=[],this.templateEngine=r||"wp",l&&this.addInitCallback(l),this.labels=n(n({},{startDate:"Start date",hasEndDate:"Has end date",endTime:"End time",isRecurring:"Is recurring?",repeat:"Repeat",every:"Every",onDay:"on day",onThe:"on the",recurring:"Recurring",recurringPeriod:"Recurring period",weekDays:"Week days",monthlyType:"Monthly type",monthDay:"Month day",monthDayType:"Month day type",monthDayTypeValue:"Month day type value",month:"Month",end:"End",after:"After",onDate:"On Date",iterations:"iterations",confirmDelete:"Are you sure?",confirmDeleteYes:"Yes",confirmDeleteNo:"No",addDate:"+ Add date",recurringLabelDaily:"Daily",recurringLabelWeekly:"Weekly",recurringLabelMonthly:"Monthly",recurringLabelYearly:"Yearly",recurringSubLabelDaily:"day(s)",recurringSubLabelWeekly:"week(s)",recurringSubLabelMonthly:"month(s)",recurringSubLabelYearly:"year(s)",first:"First",second:"Second",third:"Third",fourth:"Fourth",last:"Last",day:"Day",weekDayMon:"Mon",weekDayTue:"Tue",weekDayWed:"Wed",weekDayThu:"Thu",weekDayFri:"Fri",weekDaySat:"Sat",weekDaySun:"Sun",monthJan:"Jan",monthFeb:"Feb",monthMar:"Mar",monthApr:"Apr",monthMay:"May",monthJun:"Jun",monthJul:"Jul",monthAug:"Aug",monthSep:"Sep",monthOct:"Oct",monthNov:"Nov",monthDec:"Dec"}),i),this.setup(e),this.render(),this.events()},(e=[{key:"addInitCallback",value:function(t){this.initCallbacks.push(t)}},{key:"setup",value:function(t){this.$container=jQuery("<div></div>").appendTo(t),this.$input=t.find('input[type="hidden"]'),this.fieldName=this.$input.attr("name"),this.required=this.$input.attr("required")||!1,this.value=this.$input.val()||"{}",this.allowTime=this.$input.data("allow-time"),this.dataFormat=this.$input.data("format")||"rrule";try{this.value=JSON.parse(this.value)}catch(t){this.value={}}this.dates=this.value.dates||[],this.date=this.value.date||"",this.time=this.value.time||"",this.isEndDate=this.value.is_end_date||!1,this.endDate=this.value.end_date||"",this.endTime=this.value.end_time||"",this.isRecurring=this.value.is_recurring||!1,this.recurring=this.value.recurring||"weekly",this.recurringPeriod=this.value.recurring_period||1,this.weekDays=this.value.week_days||[],this.monthlyType=this.value.monthly_type||"on_day",this.monthDay=this.value.month_day||1,this.monthDayType=this.value.month_day_type||"first",this.monthDayTypeValue=this.value.month_day_type_value||"Sun",this.month=this.value.month||"Jan",this.end=this.value.end||"after",this.endAfter=this.value.end_after||5,this.endAfterDate=this.value.end_after_date||"",this.dates.length||(this.dates=[],this.dates.push({date:this.date,time:this.time,isEndDate:this.isEndDate,endDate:this.endDate,endTime:this.endTime}));for(var e=["isEndDate","isRecurring"],n=0;n<e.length;n++)1==this[e[n]]?this[e[n]]=!0:this[e[n]]=!1}},{key:"getProps",value:function(){return{dates:this.dates,date:this.date,time:this.time,is_end_date:this.isEndDate,end_date:this.endDate,end_time:this.endTime,is_recurring:this.isRecurring,recurring:this.recurring,recurring_period:this.recurringPeriod,week_days:this.weekDays,monthly_type:this.monthlyType,month_day:this.monthDay,month_day_type:this.monthDayType,month_day_type_value:this.monthDayTypeValue,month:this.month,end:this.end,end_after:this.endAfter,end_after_date:this.endAfterDate,data_format:this.dataFormat}}},{key:"render",value:function(){"rrule"===this.dataFormat?this.renderRecurring():this.renderCustom()}},{key:"renderCustom",value:function(){var t=this,e=document.createElement("div"),n=document.createElement("button");e.classList.add("jet-engine-advanced-date-field__repeater"),n.classList.add("jet-engine-advanced-date-field__repeater-new"),n.setAttribute("type","button"),n.innerHTML=this.labels.addDate;for(var a=0;a<this.dates.length;a++)this.dates[a].uid||(this.dates[a].uid=this.randomID()),e.append(this.getNewRepeaterEl(this.formatData(this.dates[a])));n.addEventListener("click",(function(n){n.preventDefault();var a={uid:t.randomID(),date:"",time:"",isEndDate:!1,endDate:"",endTime:""};t.dates.push(a),e.append(t.getNewRepeaterEl(a))})),this.$container.append(e),this.$container.append(n)}},{key:"formatData",value:function(t){var e={};for(var n in t)e[n.replace(/_([a-z])/g,(function(t){return t[1].toUpperCase()}))]=t[n];return e}},{key:"randomID",value:function(){return Math.floor(9e3*Math.random()+1e3)}},{key:"getNewRepeaterEl",value:function(t){var e=this;this.fieldTemplate||("wp"===this.templateEngine?this.fieldTemplate=wp.template("jet-engine-advanced-date-field-custom"):this.fieldTemplate=this.templateEngine("base-date"));var a={required:!1,allowTime:this.allowTime,fieldName:this.fieldName+"[dates]["+t.uid+"]",labels:this.labels};t=n(n({},a),t);var i=document.createElement("div");i.classList.add("jet-engine-advanced-date-field__repeater-row"),i.innerHTML=this.fieldTemplate(t),i.dataset.index=t.uid,i.setAttribute("data-index",t.uid);var r=document.createElement("div"),l=document.createElement("button"),d=document.createElement("div");return r.classList.add("jet-engine-advanced-date-field__repeater-delete"),l.classList.add("jet-engine-advanced-date-field__repeater-delete-button"),l.setAttribute("type","button"),l.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"/></g></svg>',d.classList.add("jet-engine-advanced-date-field__repeater-confirm"),d.innerHTML="".concat(this.labels.confirmDelete,' <span class="jet-engine-advanced-date-field__repeater-confirm-yes">').concat(this.labels.confirmDeleteYes,'</span><span class="jet-engine-advanced-date-field__repeater-confirm-no">').concat(this.labels.confirmDeleteNo,"</span>"),r.append(l),r.append(d),l.addEventListener("click",(function(t){t.preventDefault(),r.classList.add("show-confirm")})),d.addEventListener("click",(function(n){n.preventDefault(),n.stopPropagation(),n.target.classList.contains("jet-engine-advanced-date-field__repeater-confirm-yes")&&(i.remove(),e.dates=e.dates.filter((function(e){return e.uid!=t.uid})),e.$input.attr("value",JSON.stringify(e.getProps()))),n.target.classList.contains("jet-engine-advanced-date-field__repeater-confirm-no")&&r.classList.remove("show-confirm")})),i.append(r),this.initCallbacks.forEach((function(t){t({instance:e,newRow:i})})),i}},{key:"renderRecurring",value:function(){var t,e=this;t="wp"===this.templateEngine?wp.template("jet-engine-advanced-date-field-rrule"):this.templateEngine();var n={labels:this.labels,weekdaysConfig:[{value:1,label:this.labels.weekDayMon},{value:2,label:this.labels.weekDayTue},{value:3,label:this.labels.weekDayWed},{value:4,label:this.labels.weekDayThu},{value:5,label:this.labels.weekDayFri},{value:6,label:this.labels.weekDaySat},{value:7,label:this.labels.weekDaySun}],months:[{value:1,label:this.labels.monthJan},{value:2,label:this.labels.monthFeb},{value:3,label:this.labels.monthMar},{value:4,label:this.labels.monthApr},{value:5,label:this.labels.monthMay},{value:6,label:this.labels.monthJun},{value:7,label:this.labels.monthJul},{value:8,label:this.labels.monthAug},{value:9,label:this.labels.monthSep},{value:10,label:this.labels.monthOct},{value:11,label:this.labels.monthNov},{value:12,label:this.labels.monthDec}],recurrings:[{value:"daily",label:this.labels.recurringLabelDaily,sublabel:this.labels.recurringSubLabelDaily},{value:"weekly",label:this.labels.recurringLabelWeekly,sublabel:this.labels.recurringSubLabelWeekly},{value:"monthly",label:this.labels.recurringLabelMonthly,sublabel:this.labels.recurringSubLabelMonthly},{value:"yearly",label:this.labels.recurringLabelYearly,sublabel:this.labels.recurringSubLabelYearly}],required:this.required,fieldName:this.fieldName,date:this.date,time:this.time,isEndDate:this.isEndDate,endDate:this.endDate,endTime:this.endTime,isRecurring:this.isRecurring,recurring:this.recurring,recurringPeriod:this.recurringPeriod,weekDays:this.weekDays,monthlyType:this.monthlyType,monthDay:this.monthDay,monthDayType:this.monthDayType,monthDayTypeValue:this.monthDayTypeValue,month:this.month,end:this.end,endAfter:this.endAfter,endAfterDate:this.endAfterDate,allowTime:this.allowTime};this.$container.html(t(n)),this.initCallbacks.forEach((function(t){t({instance:e})}))}},{key:"selectors",value:function(t){var e={date:'input[name="'+this.fieldName+'[date]"]',time:'input[name="'+this.fieldName+'[time]"]',isEndDate:'input[name="'+this.fieldName+'[is_end_date]"]',endDate:'input[name="'+this.fieldName+'[end_date]"]',endTime:'select[name="'+this.fieldName+'[end_time]"]',isRecurring:'input[name="'+this.fieldName+'[is_recurring]"]',recurring:'select[name="'+this.fieldName+'[recurring]"]',recurringPeriod:'input[name="'+this.fieldName+'[recurring_period]"]',weekDays:'input[name="'+this.fieldName+'[week_days][]"]',monthlyType:'input[name="'+this.fieldName+'[monthly_type]"]',monthDay:'select[name="'+this.fieldName+'[month_day]"]',monthDayType:'select[name="'+this.fieldName+'[month_day_type]"]',monthDayTypeValue:'select[name="'+this.fieldName+'[month_day_type_value]"]',month:'select[name="'+this.fieldName+'[month]"]',end:'select[name="'+this.fieldName+'[end]"]',endAfter:'input[name="'+this.fieldName+'[end_after]"]',endAfterDate:'input[name="'+this.fieldName+'[end_after_date]"]'};return t?e[t]:e}},{key:"update",value:function(t,e){e=e||!1;var n=!1;for(var a in t)this[a]!==t[a]&&(this[a]=t[a],n=!0);this.$input.attr("value",JSON.stringify(this.getProps())),!e&&n&&this.render()}},{key:"events",value:function(){"rrule"===this.dataFormat?this.eventsRRule():this.eventsCustom()}},{key:"eventsCustom",value:function(){var t=this;this.$container.on("change",".jet-engine-advanced-date-field--switcher, .field-type-switcher input",(function(e){var n=jQuery(e.target).closest(".jet-engine-advanced-date-field__repeater-row"),a=n.data("index");if("isEndDate"===e.target.dataset.key)for(var i=0;i<t.dates.length;i++)if(t.dates[i].uid==a){void 0===t.dates[i].isEndDate?t.dates[i].isEndDate=e.target.checked:t.dates[i].isEndDate=!t.dates[i].isEndDate,n.replaceWith(t.getNewRepeaterEl(t.dates[i]));break}t.$input.attr("value",JSON.stringify(t.getProps()))})),jQuery(window).on("cx-control-change change",(function(e){var n=e.input||jQuery(e.target);if(n&&n.hasClass("jet-engine-advanced-date-field--control")){for(var a=n.closest(".jet-engine-advanced-date-field__repeater-row").data("index"),i=0;i<t.dates.length;i++)if(t.dates[i].uid==a){var r=e.controlStatus||e.target.value;t.dates[i][n.data("key")]=r;break}t.$input.attr("value",JSON.stringify(t.getProps()))}}))}},{key:"eventsRRule",value:function(){for(var t=this,e=["isEndDate","isRecurring"],n=["end","recurring","month"],i=["recurringPeriod","monthlyType","monthDay","monthDayType","monthDayTypeValue","endAfter"],r={date:this.fieldName+"[date]",time:this.fieldName+"[time]",endDate:this.fieldName+"[end_date]",endTime:this.fieldName+"[end_time]",endAfterDate:this.fieldName+"[end_after_date]"},l=0;l<e.length;l++)this.$container.on("change",this.selectors(e[l]),function(e,n){t.update(a({},e,n.target.checked))}.bind(void 0,e[l]));for(l=0;l<n.length;l++)this.$container.on("change",this.selectors(n[l]),function(e,n){t.update(a({},e,n.target.value))}.bind(void 0,n[l]));for(l=0;l<i.length;l++)this.$container.on("change",this.selectors(i[l]),function(e,n){t.update(a({},e,n.target.value),!0)}.bind(void 0,i[l]));for(var d in r)jQuery(window).on("cx-control-change",function(e,n,i){i.controlName==n&&t.update(a({},e,i.controlStatus),!0)}.bind(void 0,d,r[d])),this.$container.on("change",this.selectors(r[d]),function(e,n,i){var r;(null==i||null===(r=i.target)||void 0===r?void 0:r.name)==n&&t.update(a({},e,i.target.value),!0)}.bind(void 0,d,r[d]));this.$container.on("change",this.selectors("weekDays"),(function(e){var n=[],a=document.querySelectorAll(t.selectors("weekDays")+":checked");if(a&&a.length)for(var i=0;i<a.length;i++)n.push(a[i].value);t.update({weekDays:n})}))}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,o(a.key),a)}}function o(t){var e=function(t){if("object"!=d(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==d(e)?e:e+""}const s=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"render",value:function(t){return this.getTemplate(t)}},{key:"getTemplate",value:function(t){return"\n\t\t\t".concat(this.getBaseDateFieldTemplate(t),"\n\t\t\t").concat(this.getRecurringFieldTemplate(t),"\n\t\t")}},{key:"getBaseDateFieldTemplate",value:function(t){return"\n\t\t\t".concat(this.getStartDateFieldTemplate(t),"\n\t\t\t").concat(this.getEndDateFieldTemplate(t),"\n\t\t")}},{key:"getStartDateFieldTemplate",value:function(t){return'\n\t\t\t<div class="jet-engine-advanced-date-field__date">\n\t\t\t\t<span class="jet-engine-advanced-date-field__label">'.concat(t.labels.startDate,'</span>\n\t\t\t\t<div class="jet-engine-advanced-date-field__date-warp ').concat(t.required?"is-required":"",'" data-control-name="').concat(t.fieldName,'[date]">\n\t\t\t\t\t<div class="jet-engine-advanced-date-field__date-controls">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype="date"\n\t\t\t\t\t\t\tclass="jet-engine-advanced-date-field__date-input jet-engine-advanced-date-field--control"\n\t\t\t\t\t\t\tname="').concat(t.fieldName,'[date]"\n\t\t\t\t\t\t\tplaceholder="Select date..."\n\t\t\t\t\t\t\tvalue="').concat(t.date,'"\n\t\t\t\t\t\t\tdata-key="date"\n\t\t\t\t\t\t\t').concat(t.required?"required":"","\n\t\t\t\t\t\t>\n\t\t\t\t\t\t").concat(t.allowTime?'\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="time"\n\t\t\t\t\t\t\t\tclass="jet-engine-advanced-date-field__time-input jet-engine-advanced-date-field--control"\n\t\t\t\t\t\t\t\tname="'.concat(t.fieldName,'[time]"\n\t\t\t\t\t\t\t\tplaceholder="Set time..."\n\t\t\t\t\t\t\t\tvalue="').concat(t.time,'"\n\t\t\t\t\t\t\t\tdata-key="time"\n\t\t\t\t\t\t\t\t').concat(t.required?"required":"","\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t"):"",'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="cx-control__error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t')}},{key:"getEndDateFieldTemplate",value:function(t){return'\n\t\t\t<div class="jet-engine-advanced-date-field__date">\n\t\t\t\t<span class="jet-engine-advanced-date-field__label">'.concat(t.labels.hasEndDate,'</span>\n\t\t\t\t<div class="jet-engine-advanced-date-field__end-date-controls">\n\t\t\t\t\t<div class="field-type-switcher">\n\t\t\t\t\t\t<input id="').concat(t.fieldName,'__is_end_date" name="').concat(t.fieldName,'[is_end_date]" type="checkbox" role="switch" class="jet-form-builder__field" value="1" ').concat(t.isEndDate?"checked":"",' data-calculate="1" data-jfb-sync="null" data-key="isEndDate">\n\t\t\t\t\t</div>\n\t\t\t\t\t').concat(t.isEndDate?'\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__date-warp '.concat(t.required?"cx-control-required":"",'" data-control-name="').concat(t.fieldName,'[end_date]">\n\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__date-controls">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype="date"\n\t\t\t\t\t\t\t\t\tclass="jet-engine-advanced-date-field__end-date-input jet-engine-advanced-date-field--control"\n\t\t\t\t\t\t\t\t\tname="').concat(t.fieldName,'[end_date]"\n\t\t\t\t\t\t\t\t\tplaceholder="Select date..."\n\t\t\t\t\t\t\t\t\tvalue="').concat(t.endDate,'"\n\t\t\t\t\t\t\t\t\tdata-key="endDate"\n\t\t\t\t\t\t\t\t\t').concat(t.required?"required":"","\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t").concat(t.allowTime?'\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype="time"\n\t\t\t\t\t\t\t\t\t\tclass="jet-engine-advanced-date-field__end-time-input jet-engine-advanced-date-field--control"\n\t\t\t\t\t\t\t\t\t\tname="'.concat(t.fieldName,'[end_time]"\n\t\t\t\t\t\t\t\t\t\tplaceholder="Set time..."\n\t\t\t\t\t\t\t\t\t\tvalue="').concat(t.endTime,'"\n\t\t\t\t\t\t\t\t\t\tdata-key="endTime"\n\t\t\t\t\t\t\t\t\t\t').concat(t.required?"required":"","\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t"):"",'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="cx-control__error"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t'):"","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t")}},{key:"getRecurringFieldTemplate",value:function(t){return'\n\t\t\t<div class="jet-engine-advanced-date-field__is-recurring">\n\t\t\t\t<label class="jet-engine-advanced-date-field__label" for="'.concat(t.fieldName,'__is_recurring">\n\t\t\t\t\t').concat(t.labels.isRecurring,'\n\t\t\t\t</label>\n\t\t\t\t<div class="field-type-switcher">\n\t\t\t\t\t<input id="').concat(t.fieldName,'__is_recurring" name="').concat(t.fieldName,'[is_recurring]" type="checkbox" role="switch" class="jet-form-builder__field" value="1" ').concat(t.isRecurring?"checked":"",' data-calculate="1" data-jfb-sync="null" data-key="isRecurring">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t').concat(t.isRecurring?'\n\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-wrap">\n\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-row">\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label jet-engine-advanced-date-field__label">\n\t\t\t\t\t\t\t'.concat(t.labels.repeat,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-content">\n\t\t\t\t\t\t\t<select name="').concat(t.fieldName,'[recurring]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t').concat(t.recurrings.map((function(e){return'\n\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\tvalue="'.concat(e.value,'"\n\t\t\t\t\t\t\t\t\t\t').concat(t.recurring===e.value?"selected":"","\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t").concat(e.label,"\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t")})).join(""),'\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label">\n\t\t\t\t\t\t\t\t').concat(t.labels.every,'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\t\tname="').concat(t.fieldName,'[recurring_period]"\n\t\t\t\t\t\t\t\tmin="1"\n\t\t\t\t\t\t\t\tvalue="').concat(t.recurringPeriod,'"\n\t\t\t\t\t\t\t\tclass="cx-ui-text"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t').concat(t.recurrings.map((function(e){return t.recurring===e.value?'\n\t\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label">\n\t\t\t\t\t\t\t\t\t\t'.concat(e.sublabel,"\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"):""})).join(""),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t").concat("daily"!==t.recurring?'\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-row">\n\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label jet-engine-advanced-date-field__label label-weekdays">\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-content">\n\t\t\t\t\t\t\t\t'.concat("weekly"===t.recurring?'\n\t\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__weekdays">\n\t\t\t\t\t\t\t\t\t\t'.concat(t.weekdaysConfig.map((function(e){return'\n\t\t\t\t\t\t\t\t\t\t\t<label aria-label="'.concat(e.label,'">\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="').concat(e.value,'"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="').concat(t.fieldName,'[week_days][]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(t.weekDays.includes(""+e.value)?"checked":"",'\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="jet-engine-advanced-date-field__weekday-label">\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e.label,'\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="jet-engine-advanced-date-field__weekday-marker"></span>\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t')})).join(""),"\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"):"","\n\t\t\t\t\t\t\t\t").concat("monthly"===t.recurring||"yearly"===t.recurring?'\n\t\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__monthly">\n\t\t\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__monthly-row">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="on_day"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="'.concat(t.fieldName,'[monthly_type]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat("on_day"===t.monthlyType?"checked":"","\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.labels.onDay,"\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t").concat("yearly"===t.recurring?'\n\t\t\t\t\t\t\t\t\t\t\t\t<select name="'.concat(t.fieldName,'[month]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(t.months.map((function(e){return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'.concat(e.value,'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e.value==t.month?"selected":"","\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.label,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t")})).join(""),"\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t"):"",'\n\t\t\t\t\t\t\t\t\t\t\t<select name="').concat(t.fieldName,'[month_day]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t\t\t\t\t').concat(Array.from({length:31},(function(t,e){return e+1})).map((function(e){return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'.concat(e,'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e==t.monthDay?"selected":"","\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t")})).join(""),'\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__monthly-row">\n\t\t\t\t\t\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype="radio"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="on_day_type"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname="').concat(t.fieldName,'[monthly_type]"\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat("on_day_type"===t.monthlyType?"checked":"","\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t").concat(t.labels.onThe,'\n\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t<select name="').concat(t.fieldName,'[month_day_type]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="first" ').concat("first"===t.monthDayType?"selected":"",">").concat(t.labels.first,'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="second" ').concat("second"===t.monthDayType?"selected":"",">").concat(t.labels.second,'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="third" ').concat("third"===t.monthDayType?"selected":"",">").concat(t.labels.third,'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="fourth" ').concat("fourth"===t.monthDayType?"selected":"",">").concat(t.labels.fourth,'</option>\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="last" ').concat("last"===t.monthDayType?"selected":"",">").concat(t.labels.last,'</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t<select name="').concat(t.fieldName,'[month_day_type_value]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t\t\t\t\t').concat(t.weekdaysConfig.map((function(e){return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'.concat(e.value,'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e.value==t.monthDayTypeValue?"selected":"","\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.label,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t")})).join(""),'\n\t\t\t\t\t\t\t\t\t\t\t\t<option value="day" ').concat("day"===t.monthDayTypeValue?"selected":"",">").concat(t.labels.day,"</option>\n\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t").concat("yearly"===t.recurring?'\n\t\t\t\t\t\t\t\t\t\t\t\t<select name="'.concat(t.fieldName,'[month]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(t.months.map((function(e){return'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue="'.concat(e.value,'"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(e.value==t.month?"selected":"","\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t").concat(e.label,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t\t\t\t")})).join(""),"\n\t\t\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t\t"):"","\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t"):"","\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"):"",'\n\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-row">\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label jet-engine-advanced-date-field__label">\n\t\t\t\t\t\t\t').concat(t.labels.end,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-content">\n\t\t\t\t\t\t\t<select name="').concat(t.fieldName,'[end]" class="cx-ui-select">\n\t\t\t\t\t\t\t\t<option value="after" ').concat("after"===t.end?"selected":"",">").concat(t.labels.after,'</option>\n\t\t\t\t\t\t\t\t<option value="on_date" ').concat("on_date"===t.end?"selected":"",">").concat(t.labels.onDate,"</option>\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t").concat("after"===t.end?'\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype="number"\n\t\t\t\t\t\t\t\t\tname="'.concat(t.fieldName,'[end_after]"\n\t\t\t\t\t\t\t\t\tmin="2"\n\t\t\t\t\t\t\t\t\tvalue="').concat(t.endAfter,'"\n\t\t\t\t\t\t\t\t\tclass="cx-ui-text"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class="jet-engine-advanced-date-field__recurring-label">\n\t\t\t\t\t\t\t\t\t').concat(t.labels.iterations,"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t"):"","\n\t\t\t\t\t\t\t").concat("on_date"===t.end?'\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype="date"\n\t\t\t\t\t\t\t\t\tclass="jet-engine-advanced-date-field__date-input"\n\t\t\t\t\t\t\t\t\tname="'.concat(t.fieldName,'[end_after_date]"\n\t\t\t\t\t\t\t\t\tplaceholder="Select date..."\n\t\t\t\t\t\t\t\t\tvalue="').concat(t.endAfterDate,'"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t'):"","\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"):"","\n\t\t")}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}const h=function(){var t=new s,e=function(){};return Object.setPrototypeOf(e,t),new Proxy(e,{apply:function(e,n,a){switch((i=a,r=1,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,l,d=[],c=!0,o=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(t){o=!0,i=t}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(o)throw i}}return d}}(i,r)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0]){case"rrule":return t.getRecurringFieldTemplate.bind(t);case"base-date":return t.getBaseDateFieldTemplate.bind(t);default:return t.render.bind(t)}var i,r}})};function m(t,e){if(t){if("string"==typeof t)return f(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(t,e):void 0}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}var y=window.JetPlugins.hooks.addFilter,v=JetFormBuilderAbstract.InputData;function p(){v.call(this),this.isSupported=function(t){return t.classList.contains("jet-form-builder-advanced-date__input")},this.addListeners=function(){var t,e,n=this,a=(t=this.nodes,e=1,function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,i,r,l,d=[],c=!0,o=!1;try{if(r=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=r.call(n)).done)&&(d.push(a.value),d.length!==e);c=!0);}catch(t){o=!0,i=t}finally{try{if(!c&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(o)throw i}}return d}}(t,e)||m(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];a.addEventListener("blur",(function(t){n.value.current=t.target.value})),jQuery(a).on("change",(function(t,e){var a;n.value.current=null!==(a=null==e?void 0:e.toString())&&void 0!==a?a:""}))},this.setNode=function(t){var e=this;v.prototype.setNode.call(this,t),this.$input=jQuery(t),this.listenFormPageChange=!1,this.listenFormPageChange||(jQuery(window).on("jet-form-builder/switch-page",(function(){e.initDateField()})),this.listenFormPageChange=!0),this.initDateField()},this.initDateField=function(){var t={};this.$input.data("labels")&&(t=this.$input.data("labels")),new l(this.$input.closest(".jfb-advanced-date"),{labels:t,templateEngine:h()})},this.setValue=function(t){t=t||null,this.calcValue=t,this.value.current=t}}p.prototype=Object.create(v.prototype),y("jet.fb.inputs","jet-form-builder/signature-field",(function(t){return[p].concat(function(t){if(Array.isArray(t))return f(t)}(e=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e}))})();